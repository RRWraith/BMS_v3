function localStorageSupport() {
    return "localStorage" in window && null !== window.localStorage
}

function SmoothlyMenu() {
    !$("body").hasClass("mini-navbar") || $("body").hasClass("body-small") ? ($("#side-menu").hide(), setTimeout(function() {
        $("#side-menu").fadeIn(0)
    }, 0)) : $("body").hasClass("fixed-sidebar") ? ($("#side-menu").hide(), setTimeout(function() {
        $("#side-menu").fadeIn(0)
    }, 0)) : $("#side-menu").removeAttr("style")
}
$(document).ready(function() {
    $(this).width() < 769 ? $("body").addClass("body-small") : $("body").removeClass("body-small"), $("#side-menu").metisMenu(), $(".collapse-link").click(function() {
        var e = $(this).closest("div.ibox"),
            o = $(this).find("i");
        e.find("div.ibox-content").slideToggle(200), o.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"), e.toggleClass("").toggleClass("border-bottom"), setTimeout(function() {
            e.resize(), e.find("[id^=map-]").resize()
        }, 50)
    }), $(".close-link").click(function() {
        $(this).closest("div.ibox").remove()
    }), $(".fullscreen-link").click(function() {
        var e = $(this).closest("div.ibox"),
            o = $(this).find("i");
        $("body").toggleClass("fullscreen-ibox-mode"), o.toggleClass("fa-expand").toggleClass("fa-compress"), e.toggleClass("fullscreen"), setTimeout(function() {
            $(window).trigger("resize")
        }, 100)
    }), $(".close-canvas-menu").click(function() {
        $("body").toggleClass("mini-navbar"), SmoothlyMenu()
    }), $("body.canvas-menu .sidebar-collapse").slimScroll({
        height: "100%",
        railOpacity: .9
    }), $(".right-sidebar-toggle").click(function() {
        $("#right-sidebar").toggleClass("sidebar-open")
    }), $(".sidebar-container").slimScroll({
        height: "100%",
        railOpacity: .4,
        wheelStep: 10
    }), $(".navbar-minimalize").click(function() {
        $("body").toggleClass("mini-navbar"), SmoothlyMenu()
    }), $(window).bind("load", function() {
        $("body").hasClass("fixed-sidebar") && $(".sidebar-collapse").slimScroll({
            height: "100%",
            railOpacity: .9
        })
    }), $(window).scroll(function() {
        $(window).scrollTop() > 0 && !$("body").hasClass("fixed-nav") ? $("#right-sidebar").addClass("sidebar-top") : $("#right-sidebar").removeClass("sidebar-top")
    }), $(window).bind("load resize scroll", function() {
        $("body").hasClass("body-small")
    }), $("[data-toggle=popover]").popover(), $(".full-height-scroll").slimscroll({
        height: "100%"
    })
}), $(window).bind("resize", function() {
    $(this).width() < 769 ? $("body").addClass("body-small") : $("body").removeClass("body-small")
}), $(document).ready(function() {
    if (localStorageSupport) {
        var e = localStorage.getItem("collapse_menu"),
            o = localStorage.getItem("fixedsidebar"),
            s = localStorage.getItem("fixednavbar"),
            a = localStorage.getItem("boxedlayout"),
            l = localStorage.getItem("fixedfooter"),
            i = $("body");
        "on" == o && (i.addClass("fixed-sidebar"), $(".sidebar-collapse").slimScroll({
            height: "100%",
            railOpacity: .9
        })), "on" == e && (i.hasClass("fixed-sidebar"), i.hasClass("body-small") || i.addClass("mini-navbar")), "on" == s && ($(".navbar-static-top").removeClass("navbar-static-top").addClass("navbar-fixed-top"), i.addClass("fixed-nav")), "on" == a && i.addClass("boxed-layout"), "on" == l && $(".footer").addClass("fixed")
    }
});